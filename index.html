<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wisdom Cafe</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Open+Sans:wght@400&display=swap" rel="stylesheet">
    <style>
        body {
            margin: 0;
            font-family: 'Open Sans', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            min-height: 100vh;
            background-color: #333;
            background-image: url('https://placehold.co/1920x1080/000000/cccccc?text=Wisdom+Cafe+Background');
            background-size: cover;
            background-position: center;
            color: #fff;
            position: relative;
            overflow-x: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            box-sizing: border-box;
        }

        .glassmorphism-card {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 20px;
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.3);
            padding: 25px;
            max-width: 900px;
            width: 90%;
            display: flex;
            flex-direction: column;
            gap: 20px;
            z-index: 1;
            position: relative;
        }

        .card-header {
            display: flex;
            align-items: center;
            gap: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .header-text {
            font-family: 'Montserrat', sans-serif;
            font-size: 0.9em;
            letter-spacing: 1px;
            color: rgba(255, 255, 255, 0.8);
            font-weight: 600;
        }

        .card-content {
            display: grid;
            grid-template-columns: 0.7fr 1.3fr;
            gap: 30px;
            align-items: center;
        }

        .left-section {
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: rgba(0, 0, 0, 0.1);
            border-radius: 15px;
            overflow: hidden;
            padding: 10px;
        }

        .content-image {
            max-width: 100%;
            height: auto;
            display: block;
            border-radius: 10px;
        }

        .right-section {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .main-title {
            font-family: 'Montserrat', sans-serif;
            font-size: 3.5em;
            font-weight: 700;
            line-height: 1.1;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
            margin: 0;
            color: white;
        }

        .subtitle {
            font-family: 'Montserrat', sans-serif;
            font-size: 1.2em;
            font-weight: 600;
            margin-bottom: 10px;
            color: rgba(255, 255, 255, 0.9);
        }

        .description-text {
            font-size: 0.9em;
            line-height: 1.6;
            color: rgba(255, 255, 255, 0.7);
        }

        .card-footer {
            display: flex;
            align-items: center;
            gap: 15px;
            padding-top: 15px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .footer-text {
            font-size: 0.85em;
            color: rgba(255, 255, 255, 0.6);
            flex-shrink: 0;
        }

        .footer-button {
            padding: 8px 18px;
            border-radius: 20px;
            font-family: 'Open Sans', sans-serif;
            font-size: 0.85em;
            cursor: pointer;
            transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
            white-space: nowrap;
            text-decoration: none;
            display: inline-block;
        }

        .outline-button {
            background-color: transparent;
            border: 1px solid rgba(255, 255, 255, 0.4);
            color: rgba(255, 255, 255, 0.8);
        }

        .outline-button:hover {
            background-color: rgba(255, 255, 255, 0.1);
            border-color: rgba(255, 255, 255, 0.6);
        }

        .filled-button {
            background-color: rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
        }

        .filled-button:hover {
            background-color: rgba(255, 255, 255, 0.3);
            border-color: rgba(255, 255, 255, 0.5);
        }

        /* Assistant Section */
        .assistant-section {
            margin-top: 20px;
            background: rgba(255, 255, 255, 0.08);
            border-radius: 15px;
            padding: 15px;
            display: flex;
            flex-direction: column;
            gap: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }

        .chat-box {
            height: 300px;
            overflow-y: auto;
            background: rgba(0, 0, 0, 0.15);
            padding: 12px;
            border-radius: 12px;
            font-size: 0.9em;
            display: flex;
            flex-direction: column;
        }

        .chat-message {
            margin-bottom: 8px;
            line-height: 1.4;
            padding: 8px 12px;
            border-radius: 10px;
            max-width: 80%;
        }

        .chat-message.user {
            background: rgba(255, 255, 255, 0.15);
            align-self: flex-end;
            text-align: right;
            color: #ffd27f;
        }

        .chat-message.ai {
            background: rgba(255, 255, 255, 0.05);
            align-self: flex-start;
            text-align: left;
            color: #ffffff;
        }

        .chat-input-container {
            display: flex;
            gap: 8px;
        }

        .chat-input-container input {
            flex: 1;
            padding: 10px;
            border-radius: 10px;
            border: none;
            outline: none;
            background: rgba(255, 255, 255, 0.2);
            color: white;
        }

        .chat-input-container button {
            padding: 10px 16px;
            border-radius: 10px;
            border: none;
            cursor: pointer;
            background-color: rgba(255, 255, 255, 0.2);
            color: white;
            font-weight: bold;
            transition: background 0.3s;
        }

        .chat-input-container button:hover {
            background-color: rgba(255, 255, 255, 0.35);
        }

        /* Message Box for Alerts */
        .message-box-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            display: none;
            justify-content: center;
            align-items: center;
        }
        .message-box-card {
            background-color: #333;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            max-width: 300px;
        }
        .message-box-card button {
            margin-top: 15px;
            padding: 8px 20px;
            border-radius: 10px;
            background-color: rgba(255, 255, 255, 0.2);
            color: white;
            border: none;
            cursor: pointer;
        }

        @media (max-width: 768px) {
            .card-content {
                grid-template-columns: 1fr;
                text-align: center;
            }

            .left-section {
                padding: 5px;
            }

            .main-title {
                font-size: 2.5em;
            }

            .footer-text {
                display: none;
            }

            .card-footer {
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="glassmorphism-card">
            <header class="card-header">
                <div class="header-text">WELCOME TO WISDOM CAFE</div>
            </header>

            <main class="card-content">
                <div class="left-section">
                    <img src="https://placehold.co/400x400/333333/ffffff?text=Wisdom+Cafe+Logo" alt="Wisdom Cafe Logo" class="content-image">
                </div>
                <div class="right-section">
                    <h2 class="main-title">Nature<br>Coffee<br>and Food</h2>
                    <div class="description-section">
                        <h2 class="subtitle">Wisdom Cafe is more than just a coffee</h2>
                        <p class="description-text">Each cup is brewed not just for taste, but to stir the senses and awaken gentle reflection. Here, time slows down, and conversations flow like poetry, rich with meaning and warmth. Whether you're nestled by the window with a book, lost in thought with a latte, or exchanging quiet laughter under the soft glow of lanterns, Wisdom Cafe invites you to pause, breathe, and reconnect with yourself.</p>
                    </div>
                </div>
            </main>

            <!-- Cafe Assistant Section -->
            <section class="assistant-section">
                <h3 class="subtitle">Ask the AI Assistant â˜•</h3>
                <div id="chat-box" class="chat-box">
                    <div class="chat-message ai">Hello, I'm the Wisdom Cafe AI Assistant. Ask me anything about our menu, coffee, or anything else!</div>
                </div>
                <div class="chat-input-container">
                    <input type="text" id="user-input" placeholder="Type your message..." />
                    <button id="send-button">Send</button>
                </div>
            </section>

            <footer class="card-footer">
                <div class="footer-text">Connect with nature</div>
                <a href="https://placehold.co/400x200/333333/ffffff?text=View+Our+Menu" class="footer-button outline-button">View Our Menu</a>
                <a href="https://www.instagram.com/wisatadombagarut" class="footer-button filled-button">Gallery</a>
            </footer>
        </div>
    </div>
    
    <!-- Message Box for Alerts -->
    <div id="messageBoxOverlay" class="message-box-overlay">
        <div class="message-box-card">
            <p id="messageBoxText"></p>
            <button id="messageBoxClose">OK</button>
        </div>
    </div>

    <script>
        const apiKey = "";
        const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;
        const systemPrompt = "You are an AI assistant for a cafe named Wisdom Cafe. Your tone is calm and wise. You can answer questions about coffee, food, and provide general life advice in a tranquil and thoughtful manner. Do not mention that you are an AI model.";

        const chatBox = document.getElementById("chat-box");
        const userInput = document.getElementById("user-input");
        const sendButton = document.getElementById("send-button");
        const messageBoxOverlay = document.getElementById("messageBoxOverlay");
        const messageBoxText = document.getElementById("messageBoxText");
        const messageBoxClose = document.getElementById("messageBoxClose");

        let chatHistory = [];
        let isTyping = false;

        function showMessageBox(message) {
            messageBoxText.textContent = message;
            messageBoxOverlay.style.display = 'flex';
        }

        messageBoxClose.addEventListener('click', () => {
            messageBoxOverlay.style.display = 'none';
        });

        // Function to create and append a new message element
        function appendMessage(role, text) {
            const messageDiv = document.createElement("div");
            messageDiv.className = `chat-message ${role}`;
            messageDiv.textContent = text;
            chatBox.appendChild(messageDiv);
            chatBox.scrollTop = chatBox.scrollHeight;
        }

        // Add a "typing" indicator
        function showTypingIndicator() {
            isTyping = true;
            appendMessage('ai', "...");
            chatBox.lastChild.id = "typing-indicator";
            chatBox.scrollTop = chatBox.scrollHeight;
        }

        // Remove the "typing" indicator
        function hideTypingIndicator() {
            isTyping = false;
            const indicator = document.getElementById("typing-indicator");
            if (indicator) {
                indicator.remove();
            }
        }

        async function sendMessage() {
            if (isTyping) return;
            const userMessage = userInput.value.trim();
            if (!userMessage) return;

            // Show user message
            appendMessage("user", userMessage);
            chatHistory.push({ role: "user", parts: [{ text: userMessage }] });
            userInput.value = "";
            showTypingIndicator();

            try {
                const payload = {
                    contents: chatHistory,
                    tools: [{ "google_search": {} }],
                    systemInstruction: {
                        parts: [{ text: systemPrompt }]
                    }
                };
                
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                
                if (!response.ok) {
                    throw new Error(`API call failed with status: ${response.status}`);
                }
                
                const result = await response.json();
                const aiResponseText = result.candidates?.[0]?.content?.parts?.[0]?.text;

                hideTypingIndicator();

                if (aiResponseText) {
                    appendMessage("ai", aiResponseText);
                    chatHistory.push({ role: "model", parts: [{ text: aiResponseText }] });
                } else {
                    showMessageBox('The AI did not provide a response. Please try again.');
                }
            } catch (error) {
                console.error('Error calling Gemini API:', error);
                hideTypingIndicator();
                showMessageBox('An error occurred. Please try again later.');
            }
        }
        
        sendButton.addEventListener('click', sendMessage);
        userInput.addEventListener("keypress", (event) => {
            if (event.key === "Enter") {
                event.preventDefault();
                sendMessage();
            }
        });

        // Initial welcome message
        document.addEventListener('DOMContentLoaded', () => {
            appendMessage("ai", "Hello, I'm the Wisdom Cafe AI Assistant. How can I help you today?");
        });
    </script>
</body>
</html>
